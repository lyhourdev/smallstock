/*!
 * HTMLComb v0.3.1
 * https://github.com/fengyuanchen/htmlcomb
 *
 * Copyright (c) 2014-2016 Fengyuan Chen
 * Released under the MIT license
 *
 * Date: 2016-06-10T05:33:56.123Z
 */
!function(){"use strict";function a(c){this.initialOptions=b.extend({},a.DEFAULTS),this.options={},this.source="",this.result="",this.setup(c)}
// Patterns
var b,c=/<(\w+)\s([^<>]+)>/g,d=/[\-\.:@]?\w+(?:[\-\.:@]\w*)*(=(("[^"]*")|('[^']*')|\w*))?/g,e=/'([^']*)'/g,f=/"/g,g=/^"\s*"$/,h=/[\n\r]+/g,i=/(\s)\s+/g,j=[],k=j.slice,l={}.toString;
// Defaults
// ---------------------------------------------------------------------------
a.DEFAULTS={requireDoubleQuotationMarks:!0,replaceSingleQuotationMarks:!0,removeMultipleSpaces:!0,removeEmptyValues:!0,removeNewlines:!0,
// http://codeguide.co/#html-attribute-order
order:["class","id","name","data","src","for","type","href","value","title","alt","role","aria"]},
// Prototype
// ---------------------------------------------------------------------------
a.prototype={constructor:a,setup:function(a,c){
// Return `this` to allow chain composition
return"object"==typeof a?(c||b.extend(this.initialOptions,a),b.extend(this.options,this.initialOptions,a)):this.options=b.extend({},this.initialOptions),this},format:function(a,d,e){var f,g=!1;if("string"!=typeof a)throw new Error('The first parameter for "format" method must be a string.');return"object"==typeof d?(g=!0,this.setup(d,!0)):"function"==typeof d&&"undefined"==typeof e&&(e=d),this.source=a,f=a.replace(c,b.proxy(function(a,b,c){return"<"+b+" "+this.sort(c)+">"},this)),g&&this.setup(),this.result=f,"function"==typeof e&&e.call(this,f),f},comb:function(){return this.format.apply(this,b.toArray(arguments))},sort:function(a){var c=this.options.order,d=[],e=[],f=[];
// To array
// Filters undefined values and sorts matched attrs
return a=this.split(a),b.each(a,function(a){var d=!1;b.each(c,function(b,c){return a.substr(0,b.length)===b?(d=!0,"undefined"==typeof e[c]&&(e[c]=[]),e[c].push(a),!1):void 0}),d||f.push(a)}),b.each(e,function(a){b.isArray(a)&&(a.length>1&&a.sort(),d.push(a.join(" ")))}),a=d.concat(f.sort()),a.join(" ")},split:function(a){var c=this.options,j=[];
// Matches four types of attribute: attr="prop" | attr='prop' | attr=prop | attr
return"string"==typeof a&&(j=a.match(d),j?b.each(j,function(a,b){var d;a=a.split("="),"undefined"!=typeof a[1]&&(d=a[1].charAt(0),"'"===d&&c.replaceSingleQuotationMarks?a[1]='"'+a[1].replace(e,"$1").replace(f,"&quot;")+'"':'"'!==d&&c.requireDoubleQuotationMarks&&(a[1]='"'+a[1]+'"'),c.removeNewlines&&(a[1]=a[1].replace(h,"")),c.removeMultipleSpaces&&(a[1]=a[1].replace(i,"$1")),g.test(a[1])&&c.removeEmptyValues&&a.pop()),j[b]=a.join("=")}):j=[]),j}},b={isArray:Array.isArray||function(a){return"[object Array]"===l.call(a)},toArray:function(a,b,c){var d=[];return"number"==typeof b&&(d.push(b),"number"==typeof c&&d.push(c)),k.apply(a,d)},each:function(a,c){var d,e;if("function"==typeof c)if(b.isArray(a))for(e=0,d=a.length;d>e&&c.call(a,a[e],e)!==!1;e++);else if("object"==typeof a)for(e in a)if(a.hasOwnProperty(e)&&c.call(a,a[e],e)===!1)break;return a},extend:function(a){var c=b.toArray(arguments);return c.length>1?c.shift():a=this,b.each(c,function(c){b.each(c,function(b,c){a[c]=b})}),a},proxy:function(a,c){var d=b.toArray(arguments,2);return function(){return a.apply(c,d.concat(b.toArray(arguments)))}}},b.extend(a,b),"undefined"!=typeof window&&(window.HTMLComb=a),"function"==typeof define&&define.amd&&define("htmlcomb",[],function(){return a}),"object"==typeof module&&(module.exports=a)}();